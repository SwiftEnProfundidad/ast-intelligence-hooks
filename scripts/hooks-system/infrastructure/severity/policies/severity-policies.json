{
  "version": "2.0.0",
  "description": "Severity-based quality gate policies with intelligent evaluation",
  
  "quality_gate": {
    "CRITICAL": {
      "threshold": 0,
      "action": "BLOCK_COMMIT",
      "message": "üö® CRITICAL violations detected - commit BLOCKED",
      "autoFix": false,
      "requiresApproval": false,
      "exitCode": 1
    },
    "HIGH": {
      "threshold": 0,
      "action": "BLOCK_MERGE",
      "message": "‚ö†Ô∏è  HIGH violations detected - fix before merging to main/develop",
      "allowInFeatureBranch": true,
      "requiresApproval": true,
      "createIssue": true,
      "exitCode": 1
    },
    "MEDIUM": {
      "threshold": 10,
      "action": "WARN_AND_ALLOW",
      "message": "‚ö° MEDIUM violations detected - create tech debt issues",
      "autoCreateIssues": true,
      "requiresComment": true,
      "showInReport": true,
      "exitCode": 0
    },
    "LOW": {
      "threshold": 50,
      "action": "TRACK_ONLY",
      "message": "‚ÑπÔ∏è  LOW violations detected - tracked in metrics",
      "showInReport": true,
      "trackInMetrics": true,
      "exitCode": 0
    }
  },
  
  "context_overrides": {
    "payment_flow": {
      "description": "Stricter rules for payment/checkout code",
      "patterns": [
        "/payment/",
        "/checkout/",
        "/billing/",
        "/stripe/",
        "/transaction/"
      ],
      "policies": {
        "CRITICAL": { "threshold": 0 },
        "HIGH": { "threshold": 0 },
        "MEDIUM": { "threshold": 0 },
        "LOW": { "threshold": 5 }
      }
    },
    
    "authentication_flow": {
      "description": "Stricter rules for auth code",
      "patterns": [
        "/auth/",
        "/login/",
        "/signup/",
        "/session/"
      ],
      "policies": {
        "CRITICAL": { "threshold": 0 },
        "HIGH": { "threshold": 0 },
        "MEDIUM": { "threshold": 2 },
        "LOW": { "threshold": 10 }
      }
    },
    
    "domain_layer": {
      "description": "Stricter SOLID rules for domain layer",
      "patterns": [
        "/domain/",
        "/Domain/",
        "/entities/",
        "/value-objects/"
      ],
      "policies": {
        "CRITICAL": { "threshold": 0 },
        "HIGH": { "threshold": 0 },
        "MEDIUM": { "threshold": 3 },
        "LOW": { "threshold": 15 }
      }
    },
    
    "test_code": {
      "description": "More lenient for test code",
      "patterns": [
        "/test/",
        "/__tests__/",
        ".test.",
        ".spec.",
        "/Tests/",
        "/androidTest/"
      ],
      "policies": {
        "CRITICAL": { "threshold": 2 },
        "HIGH": { "threshold": 5 },
        "MEDIUM": { "threshold": 20 },
        "LOW": { "threshold": 100 }
      }
    },
    
    "generated_code": {
      "description": "Very lenient for generated code",
      "patterns": [
        "/generated/",
        "/Generated/",
        ".generated.",
        "// Generated by"
      ],
      "policies": {
        "CRITICAL": { "threshold": 5 },
        "HIGH": { "threshold": 10 },
        "MEDIUM": { "threshold": 50 },
        "LOW": { "threshold": 200 }
      }
    }
  },
  
  "severity_thresholds": {
    "score_ranges": {
      "CRITICAL": { "min": 85, "max": 100 },
      "HIGH": { "min": 65, "max": 84 },
      "MEDIUM": { "min": 40, "max": 64 },
      "LOW": { "min": 0, "max": 39 }
    },
    
    "description": "Score ranges for severity mapping (computed from impact analysis)"
  },
  
  "impact_weights": {
    "security": 0.40,
    "stability": 0.30,
    "performance": 0.20,
    "maintainability": 0.10
  },
  
  "context_multipliers": {
    "critical_path": 1.5,
    "handles_payments": 2.0,
    "handles_pii": 1.4,
    "user_facing_no_error_boundary": 1.3,
    "public_api": 1.2,
    "main_thread": 2.0,
    "high_dependency_count": "1 + (count / 20)",
    "high_call_frequency": 1.2,
    "solid_in_domain": 1.4,
    "clean_arch_domain_violation": 1.6,
    
    "reductions": {
      "test_code": 0.3,
      "has_error_boundary_and_fallback": 0.7,
      "has_retry_logic": 0.9,
      "generated_code": 0.2
    }
  },
  
  "rule_specific_base_scores": {
    "SOLID": {
      "srp_god_class": 70,
      "ocp_switch": 50,
      "lsp_contract": 75,
      "isp_fat_protocol": 45,
      "dip_concrete": 65
    },
    
    "Clean_Architecture": {
      "domain_imports_framework": 95,
      "application_depends_infrastructure": 70,
      "presentation_business_logic": 65,
      "wrong_directory": 45,
      "repository_no_abstraction": 75
    },
    
    "Security": {
      "hardcoded_secret": 90,
      "userdefaults_sensitive": 85,
      "sql_injection": 95,
      "xss": 80,
      "http_url": 60,
      "missing_ssl_pinning": 55
    },
    
    "Stability": {
      "force_unwrap": 70,
      "empty_catch": 60,
      "untyped_catch": 50,
      "retain_cycle": 55,
      "context_leak": 60
    },
    
    "Testing": {
      "mock_in_production": 95,
      "missing_tests_critical": 60,
      "missing_tests": 25,
      "test_naming": 15
    }
  }
}

