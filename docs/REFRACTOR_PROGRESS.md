# Refactor Progress Tracker

Estado operativo activo del repositorio.

## Leyenda
- ‚úÖ Hecho
- üöß En construccion (maximo 1)
- ‚è≥ Pendiente
- ‚õî Bloqueado

## Plan Por Fases (Ciclo 014)
Plan base visible para seguimiento previo y durante la implementacion.

### Fase A ‚Äî Estabilizacion Base CI
- ‚úÖ `F014.A.T1` Baseline de fallos post-merge consolidado.
- ‚úÖ `F014.A.T2` Causa raiz lote A identificada (manifest + package smoke).
- ‚úÖ `F014.A.T3` Correccion lote A implementada y validada en local.
- ‚úÖ `F014.A.T4` Cierre Git Flow lote A (`PR #363` y `PR #364`).

### Fase B ‚Äî Quality Suites
- ‚úÖ `F014.B.T1` Validacion local `test:deterministic`.
- ‚úÖ `F014.B.T2` Validacion local `test:heuristics`.
- ‚úÖ `F014.B.T3` Cierre Git Flow lote B (`PR #367` y `PR #368`).

### Fase C ‚Äî Platform Gates
- ‚úÖ `F014.C.T1` Correccion de contrato workflow (`runner_path` a `ci*.cli.ts`).
- ‚úÖ `F014.C.T2` TDD contrato platform gates (red/green).
- ‚úÖ `F014.C.T3` Validacion local gates con y sin bypass SDD.
- ‚úÖ `F014.C.T4` Cierre Git Flow lote C (`PR #370` y `PR #371`).

### Fase D ‚Äî Package Smoke + Security
- ‚úÖ `F014.D.T1` Consolidar validacion final de package smoke y estado security/snyk.
- ‚úÖ `F014.D.T2` Publicar cierre documental incremental del ciclo 014.
- ‚úÖ `F014.D.T3` Cierre Git Flow final de fase D (`develop -> main`) y sincronizacion.

### Fase E ‚Äî Cierre Estricto Externo
- ‚úÖ `F014.E.T1` Revalidacion remota estricta ejecutada hasta limite externo (billing), con promote admin `PR #378`.
- ‚úÖ `F014.E.T2` Cierre definitivo de `P-ADHOC-LINES-014` en modo administrativo con riesgo externo documentado.
- ‚úÖ `F014.E.T3` Seguimiento externo post-cierre pausado por decisi√≥n operativa del usuario (sin dependencia de checks remotos).
- ‚úÖ `F014.E.T4` Cierre estricto en modo local (CI local autoritativo; checks remotos informativos).
- ‚úÖ `F014.E.T5` Standby manual cerrado por instrucci√≥n del usuario (estado final: esperando nuevas instrucciones).

## Estado actual
- ‚úÖ `HYG.T1` Inventario completo de markdowns, artefactos y carpetas hu√©rfanas.
- ‚úÖ `HYG.T2` Unificaci√≥n documental oficial creada: `docs/validation/detection-audit-baseline.md`.
- ‚úÖ `HYG.T3` Limpieza aplicada:
  - eliminados ciclos/reportes forenses obsoletos del root de `docs/`
  - eliminados artefactos forenses de `assets/readme/forensics-violations/*`
  - eliminada documentaci√≥n no oficial de ra√≠z (`CLAUDE.md`)
  - eliminadas carpetas hu√©rfanas vac√≠as (`apps/*`, `assets/readme/menu-option1-notification-proof/*`)
- ‚úÖ `HYG.T4` Verificaci√≥n final de higiene enterprise:
  - referencias rotas cr√≠ticas: `0`
  - compilaci√≥n TypeScript: `OK` (`npm run typecheck`)
  - inventario de `.md` normalizado y sin reportes/ciclos forenses en `docs/` root
- ‚úÖ `P-ADHOC-LINES-002` Extender extracci√≥n de l√≠neas AST al resto de familias heur√≠sticas (`process/security/browser/fs`) para minimizar anchors por fallback.
  - detectores `process/security/browser` con `find*Lines` y pruebas dedicadas
  - autolocalizaci√≥n de l√≠neas AST por convenci√≥n `has*/find*Lines`
  - inferencia para familia `fs` (`sync/promises/callbacks`) sin hardcode por regla
  - validaci√≥n: tests heur√≠sticos focales `OK` + `npm run typecheck` `OK`
- ‚úÖ `P-ADHOC-LINES-003` Verificar trazabilidad clicable end-to-end en men√∫/reportes usando `lines` de todas las familias AST.
  - salida de bloqueo en gate (`runPlatformGateOutput`) enriquecida con `severity + ruleId + message + file:line`
  - `exportLegacyAuditMarkdown` ahora incluye secciones markdown con rutas clicables `./path#Lline`
  - cobertura de tests para salida clicable y export markdown
  - validaci√≥n: tests focales `OK` + `npm run typecheck` `OK`
- ‚úÖ `P-ADHOC-LINES-004` Ejecutar smoke e2e de trazabilidad (`pre-write`, `pre-commit`, `pre-push`, men√∫ opci√≥n 1/8/9) y registrar evidencias finales.
  - tests runtime men√∫ para opci√≥n `9` (diagn√≥stico clicable) y opci√≥n `8` (export markdown clicable)
  - tests de salida gate (`runPlatformGateOutput`) con `lines` array/string/sin l√≠neas
  - validaci√≥n: suite focal `OK` (29 tests) + `npm run typecheck` `OK`
- ‚úÖ `P-ADHOC-LINES-005` Ejecutar auditor√≠a funcional completa y verificar visualmente trazabilidad clicable en salida real de hooks + men√∫.
  - hooks reales ejecutados con evidencia en:
    - `.audit_tmp/prewrite-functional.out`
    - `.audit_tmp/precommit-functional.out`
    - `.audit_tmp/prepush-functional.out`
  - validado `file:line` en bloqueos de hooks:
    - `pre-write`: `openspec/changes:1`, `.ai_evidence.json:1`, `.git/HEAD:1`
    - `pre-commit` / `pre-push`: `openspec/changes:1`
  - flujo men√∫ consumer validado en TTY real (`1 -> 8 -> 9 -> 10`) con evidencia en:
    - `.audit_tmp/menu-functional-tty.out`
    - export markdown: `.audit-reports/pumuki-legacy-audit.md`
  - comprobadas secciones clicables en markdown:
    - `## Clickable Top Files`
    - `## Clickable Findings` con enlaces `./path#Lline`
- ‚úÖ `P-ADHOC-LINES-006` Consolidar reporte final de recuperaci√≥n de detecci√≥n enterprise (resumen funcional + evidencias clave) para cierre operativo del ciclo.
  - reporte oficial creado en `docs/validation/enterprise-detection-recovery-closure.md`
  - incluye estado consolidado del gate, severidades, cobertura y evidencias de hooks/men√∫/export markdown
  - `docs/validation/README.md` actualizado para registrar el documento como referencia versionada
- ‚úÖ `P-ADHOC-LINES-007` Preparar cierre Git Flow end-to-end (commit at√≥mico, PR, merge y sincronizaci√≥n) sin p√©rdida de cambios.
  - rama de trabajo dedicada `feature/p-adhoc-lines-007-gitflow-closure`
  - validaci√≥n previa de calidad ejecutada (`tsx --test` focal + `npm run typecheck`)
  - lote consolidado para commit at√≥mico del ciclo de recuperaci√≥n
  - cierre previsto por PR con merge a `develop` y sincronizaci√≥n de ramas protegidas
- ‚úÖ `P-ADHOC-LINES-008` Ejecutar auditor√≠a full-repo post-cierre y emitir informe final de violaciones por severidad con rutas clicables.
  - auditor√≠a full-repo ejecutada en men√∫ consumer (`1`) con evidencia en `.audit_tmp/p-adhoc-lines-008-menu.out`
  - export markdown clicable ejecutado (`8`) en `.audit-reports/pumuki-legacy-audit.md`
  - informe final por severidad con rutas clicables generado en `.audit-reports/p-adhoc-lines-008-full-repo-audit.md`
  - resumen de severidad post-cierre: `CRITICAL 42`, `HIGH 37`, `MEDIUM 4`, `LOW 0`
- ‚úÖ `P-ADHOC-LINES-009` Publicar informe consolidado post-merge en `docs/validation` con:
  - resumen por severidad (`CRITICAL/HIGH/MEDIUM/LOW`)
  - top reglas y top ficheros con `file:line`
  - cobertura de reglas (`active/evaluated/unevaluated/ratio`)
  - informe publicado en `docs/validation/post-merge-detection-audit-report.md`
  - documento registrado en `docs/validation/README.md` como referencia versionada
- ‚úÖ `P-ADHOC-LINES-010` Verificar paridad/superaci√≥n respecto a baseline legacy en detecci√≥n:
  - comparar conteos y distribuci√≥n por severidad
  - documentar brechas de detecci√≥n por familia de reglas
  - dejar plan de correcci√≥n priorizado por impacto
  - comparativa reproducible generada en `.audit-reports/p-adhoc-lines-010-legacy-parity.md`
  - an√°lisis oficial publicado en `docs/validation/legacy-parity-gap-analysis.md`
  - resultado actual: superaci√≥n en `CRITICAL`, brecha pendiente en `HIGH` (`-4`) y `MEDIUM` (`-17`)
- ‚úÖ `P-ADHOC-LINES-011` Remediar brechas cr√≠ticas de detecci√≥n identificadas en la comparaci√≥n:
  - TDD aplicado en detectores TypeScript para:
    - `common.types.unknown_without_guard` (detecci√≥n por AST de `unknown` fuera de `Record<*, unknown>`)
    - `common.network.missing_error_handling` (detecci√≥n por nodo de red sin `try/catch` local ni cadena `.catch`)
  - trazabilidad corregida en heur√≠sticas multi-fichero para respetar `filePath` del finding al resolver `lines`
  - validaci√≥n t√©cnica ejecutada:
    - tests focales (`47/47` OK) en detectores/extracci√≥n/trazabilidad
    - compilaci√≥n TypeScript (`npx tsc --noEmit`) OK
    - smoke runtime hooks+men√∫ con evidencia en:
      - `.audit_tmp/p-adhoc-lines-011-prewrite.out`
      - `.audit_tmp/p-adhoc-lines-011-precommit.out`
      - `.audit_tmp/p-adhoc-lines-011-prepush.out`
      - `.audit_tmp/p-adhoc-lines-011-menu.out`
  - resultado funcional:
    - `common.types.unknown_without_guard` pasa de 4 a 59 hallazgos en evidencia full-repo
    - trazabilidad `file:line` deja de colapsar en una l√≠nea repetida global
    - men√∫ `1` refleja severidad y top violaciones con rutas clicables actualizadas

## Siguiente paso operativo
- ‚è≥ Esperar nuevas instrucciones expl√≠citas del usuario; sin ejecuci√≥n autom√°tica.

## Backlog global restante
- ‚úÖ `P-ADHOC-LINES-012` Cierre final del ciclo enterprise:
  - ‚úÖ revalidaci√≥n integral ejecutada:
    - tests focales `48/48` en `.audit_tmp/p-adhoc-lines-012-tests.out`
    - `typecheck` `OK` en `.audit_tmp/p-adhoc-lines-012-typecheck.out`
    - smoke hooks+men√∫ en:
      - `.audit_tmp/p-adhoc-lines-012-prewrite.out`
      - `.audit_tmp/p-adhoc-lines-012-precommit.out`
      - `.audit_tmp/p-adhoc-lines-012-prepush.out`
      - `.audit_tmp/p-adhoc-lines-012-menu.out`
      - iteraci√≥n v2:
        - `.audit_tmp/p-adhoc-lines-012-prewrite-v2.out`
        - `.audit_tmp/p-adhoc-lines-012-precommit-v2.out`
        - `.audit_tmp/p-adhoc-lines-012-prepush-v2.out`
        - `.audit_tmp/p-adhoc-lines-012-menu-v2.out`
  - ‚úÖ documentaci√≥n oficial de revalidaci√≥n publicada:
    - `docs/validation/enterprise-detection-revalidation-cycle-012.md`
    - √≠ndice actualizado en `docs/validation/README.md`
  - ‚úÖ paridad legacy por severidad cerrada:
    - `CRITICAL 42 >= 9`, `HIGH 43 >= 41`, `MEDIUM 59 >= 21`, `LOW 0 = 0`
    - reporte: `.audit-reports/p-adhoc-lines-012-legacy-parity-v2.md`
  - ‚úÖ cierre Git Flow end-to-end completado:
    - PR `#360` (feature -> `develop`) merged
    - PR `#361` (`develop` -> `main`) merged (admin)
    - ramas locales y remotas sincronizadas con solo `develop` y `main`
- ‚úÖ `P-ADHOC-LINES-013` Verificaci√≥n post-merge de estabilidad:
  - estado post-merge de `PR #361` verificado (`MERGED`, commit `cedaf08f93d70ad7d820556f2574becf8ed03f6b`)
  - baseline de checks no verdes consolidado en:
    - `.audit_tmp/p-adhoc-lines-013-main-pr-checks.tsv`
    - `.audit_tmp/p-adhoc-lines-013-main-pr-checks-unique.tsv`
  - nota oficial de riesgo residual y plan de saneamiento publicada:
    - `docs/validation/post-merge-main-stability-note.md`
  - √≠ndice documental actualizado en `docs/validation/README.md`
- ‚úÖ `P-ADHOC-LINES-014` Saneamiento CI post-merge en `main`:
  - ‚úÖ baseline de fallos post-merge recopilado:
    - `.audit_tmp/p-adhoc-lines-013-main-pr-checks.tsv`
    - `.audit_tmp/p-adhoc-lines-013-main-pr-checks-unique.tsv`
    - `.audit_tmp/p-adhoc-lines-014-ci-failure-map.md`
  - ‚úÖ plan incremental por dominios documentado:
    - `docs/validation/ci-sanitization-plan-cycle-014.md`
  - ‚úÖ reproducidos checks fallidos y causas ra√≠z confirmadas (lote A):
    - `check-package-manifest`: crash por API legacy `npm-packlist` v10
    - `package-smoke`: m√≥dulo no incluido en paquete (`integrations/notifications/emitAuditSummaryNotification.ts`)
  - ‚úÖ correcci√≥n lote A implementada y validada localmente:
    - `scripts/check-package-manifest.ts`
    - `scripts/__tests__/check-package-manifest.test.ts`
    - `scripts/package-manifest-lib.ts`
    - `package.json` (`files`)
    - reproducci√≥n CI local completa en verde: `.audit_tmp/ci-repro-014/summary.tsv`
  - ‚úÖ lote A publicado en PR incremental:
    - `https://github.com/SwiftEnProfundidad/ast-intelligence-hooks/pull/363`
  - ‚úÖ checks remotos del lote A validados:
    - Jobs completan en fallo sin steps (`runner_id=0`, `steps=[]`) por bloqueo externo.
    - evidencia de runs: `22308930219`, `22309368527`, `22309369410`.
    - documentaci√≥n de bloqueo:
      - `docs/validation/post-merge-main-stability-note.md`
      - `docs/validation/ci-sanitization-plan-cycle-014.md`
  - ‚úÖ fase B (quality suites) validada en local:
    - `npm run test:deterministic` OK (salida: `.audit_tmp/p-adhoc-lines-014-lotB-deterministic.out`)
    - `npm run test:heuristics` OK (salida: `.audit_tmp/p-adhoc-lines-014-lotB-heuristics.out`)
  - ‚úÖ fase C (platform gates) corregida y validada:
    - fix de contrato CI: workflows de gates ahora usan entrypoints ejecutables `integrations/git/ci*.cli.ts` (antes `ci*.ts` solo exportaba).
    - TDD red/green de contrato:
      - nuevo test `scripts/__tests__/platform-gates-workflow-contract.test.ts`
      - red inicial confirmada y green tras fix.
    - ejecuci√≥n local de gates:
      - sin bypass SDD: bloquea por `OPENSPEC_MISSING` en los 4 runners (`openspec/changes:1`)
      - con `PUMUKI_SDD_BYPASS=1`: `ios=0`, `android=0`, `backend=0`, `frontend=0`
      - evidencias:
        - `.audit_tmp/p-adhoc-lines-014-lotC-ios-gate.out`
        - `.audit_tmp/p-adhoc-lines-014-lotC-android-gate.out`
      - `.audit_tmp/p-adhoc-lines-014-lotC-backend-gate.out`
      - `.audit_tmp/p-adhoc-lines-014-lotC-frontend-gate.out`
      - `.audit_tmp/p-adhoc-lines-014-lotC-gates-exit-codes.txt`
      - `.audit_tmp/p-adhoc-lines-014-lotC-gates-bypass-exit-codes.txt`
  - ‚úÖ fase D (package smoke + security) consolidada:
    - validaci√≥n local final de packaging:
      - `npm run validation:package-manifest` OK (`files scanned: 847`)
      - `npm run validation:package-smoke` OK (modo `block`)
      - `npm run validation:package-smoke:minimal` OK (modo `minimal`)
      - evidencia:
        - `.audit_tmp/p-adhoc-lines-014-lotD/package-manifest.out`
        - `.audit_tmp/p-adhoc-lines-014-lotD/package-smoke-block.out`
        - `.audit_tmp/p-adhoc-lines-014-lotD/package-smoke-minimal.out`
        - `.audit-reports/package-smoke/block/summary.md`
        - `.audit-reports/package-smoke/minimal/summary.md`
    - estado remoto consolidado en √∫ltimo promote (`PR #373`):
      - `package-smoke (block|minimal)` en `FAILURE` remoto con patr√≥n de bloqueo externo (`runner_id=0`, `steps=[]`)
      - `security/snyk (swiftenprofundidad)` en `ERROR` (dependencia externa Snyk)
      - evidencia:
        - `.audit_tmp/p-adhoc-lines-014-lotD/pr-373-status.json`
        - `.audit_tmp/p-adhoc-lines-014-lotD/package-smoke-block-job.json`
        - `.audit_tmp/p-adhoc-lines-014-lotD/package-smoke-minimal-job.json`
        - `.audit_tmp/p-adhoc-lines-014-lotD/remote-status.txt`
        - `.audit_tmp/p-adhoc-lines-014-lotD/remote-status-check-runs.json`
  - ‚úÖ fase D cierre documental incremental publicado:
    - documento oficial: `docs/validation/ci-sanitization-cycle-014-incremental-closure.md`
    - √≠ndice actualizado: `docs/validation/README.md`
  - ‚úÖ cierre Git Flow final de fase D ejecutado:
    - promote final `develop -> main` realizado para consolidar Fase D en ramas protegidas (`PR #377`).
  - ‚úÖ fase E revalidaci√≥n estricta ejecutada con l√≠mite externo:
    - ‚úÖ `F014.E.T1.a` refresco de evidencia remota de PR de control completado.
    - ‚úÖ `F014.E.T1.c` promote administrativo ejecutado por instrucci√≥n de usuario:
      - PR `#378` merged (`develop -> main`) por bloqueo externo de billing/checks.
      - merge commit: `47984b3498df7f4c5dac677cdce2640ee192062c`
      - ramas sincronizadas tras promote: `origin/main...origin/develop = 0/0`
    - PR de control usada en fase E: `https://github.com/SwiftEnProfundidad/ast-intelligence-hooks/pull/378`
    - estado actual del probe:
      - `37/37` checks en rojo (`FAILURE`/`ERROR`) en la PR de control.
      - afecta a `CI`, `platform gates`, `quality suites`, `package-smoke` y `security/snyk`.
      - muestreo API de jobs de dominios distintos mantiene patr√≥n externo:
        - CI (`job 64552897258`) => `runner_id=0`, `steps=[]`
        - Android gate (`job 64552916088`) => `runner_id=0`, `steps=[]`
        - package-smoke minimal (`job 64552916681`) => `runner_id=0`, `steps=[]`
      - `security/snyk (swiftenprofundidad)` permanece en `ERROR` (proveedor externo).
      - evidencia:
        - `.audit_tmp/p-adhoc-lines-014-lotE-pr-378-status.json`
        - `.audit_tmp/p-adhoc-lines-014-lotE-pr378-key-checks.json`
        - `.audit_tmp/p-adhoc-lines-014-lotE-pr378-ci-job.json`
        - `.audit_tmp/p-adhoc-lines-014-lotE-pr378-android-job.json`
        - `.audit_tmp/p-adhoc-lines-014-lotE-pr378-package-minimal-job-v2.json`
    - ‚úÖ `F014.E.T1.b` seguimiento de evidencia remota consolidado: se mantiene patr√≥n externo (`runner_id=0`) por dependencia de billing.
  - ‚úÖ `F014.E.T2` cierre administrativo final publicado:
    - documento oficial: `docs/validation/ci-sanitization-cycle-014-administrative-closure.md`
    - √≠ndice actualizado: `docs/validation/README.md`
  - ‚úÖ cierre Git Flow de lote C ejecutado end-to-end:
    - PR `#370` (`feature/p-adhoc-lines-014-lotC-platform-gates` -> `develop`) merged.
    - PR `#371` (`develop` -> `main`) merged (admin por bloqueo externo de Actions).
    - sincronizaci√≥n final de ramas tras lote C: `origin/main...origin/develop = 0/0`.
  - ‚úÖ cierre Git Flow de lote B ejecutado end-to-end:
    - PR `#367` (`feature/p-adhoc-lines-014-lotB-quality-validation` -> `develop`) merged.
    - PR `#368` (`develop` -> `main`) merged (admin por bloqueo externo de Actions).
    - sincronizaci√≥n final de ramas tras lote B: `origin/main...origin/develop = 0/0`.
  - ‚úÖ cierre Git Flow de lote A ejecutado end-to-end:
    - PR `#363` (`feature/p-adhoc-lines-014-lotA-packaging-fixes` -> `develop`) merged.
    - PR `#364` (`develop` -> `main`) merged (admin por bloqueo externo de Actions).
    - sincronizaci√≥n final de ramas: `origin/main...origin/develop = 0/0`.
  - ‚úÖ promote manual adicional solicitado por usuario:
    - ejecutar `develop -> main` sin depender del desbloqueo de billing para continuar flujo operativo.
  - ‚è≥ seguimiento externo post-cierre (fuera del alcance t√©cnico local):
    - restablecer billing de GitHub Actions;
    - ejecutar revalidaci√≥n estricta sin admin con checks cr√≠ticos en verde.
- ‚úÖ `P-ADHOC-LINES-015` Seguimiento externo del cierre administrativo 014:
  - ‚úÖ playbook operativo de seguimiento externo publicado:
    - `docs/validation/ci-sanitization-cycle-014-external-follow-up.md`
    - √≠ndice actualizado: `docs/validation/README.md`
  - ‚úÖ sondeo externo #1 registrado:
    - PR muestra: `#382` (`37/37` checks no verdes)
    - `security/snyk (swiftenprofundidad)` en `ERROR`
    - muestreo de jobs confirma patr√≥n externo (`runner_id=0`, `steps=[]`) en CI/gate/package
    - evidencia en `.audit_tmp/p-adhoc-lines-015-pr-382-*.json` y `.audit_tmp/p-adhoc-lines-015-pr382-*.json`
  - ‚úÖ sondeo externo #2 registrado:
    - PR muestra: `#383` (`37/37` checks no verdes)
    - `security/snyk (swiftenprofundidad)` en `ERROR`
    - muestreo de jobs confirma patr√≥n externo (`runner_id=0`, `steps=[]`) en CI/gate/package
    - evidencia en `.audit_tmp/p-adhoc-lines-015-pr-383-*.json` y `.audit_tmp/p-adhoc-lines-015-pr383-*.json`
  - ‚úÖ sondeo externo #3 registrado:
    - PR muestra: `#384` (`37/37` checks no verdes)
    - `security/snyk (swiftenprofundidad)` en `ERROR`
    - muestreo de jobs confirma patr√≥n externo (`runner_id=0`, `steps=[]`) en CI/gate/package
    - evidencia en `.audit_tmp/p-adhoc-lines-015-pr-384-*.json` y `.audit_tmp/p-adhoc-lines-015-pr384-*.json`
  - ‚úÖ sondeo externo #4 registrado:
    - PR muestra: `#385` (`37/37` checks no verdes)
    - `security/snyk (swiftenprofundidad)` en `ERROR`
    - muestreo de jobs confirma patr√≥n externo (`runner_id=0`, `steps=[]`) en CI/gate/package
    - evidencia en `.audit_tmp/p-adhoc-lines-015-pr-385-*.json` y `.audit_tmp/p-adhoc-lines-015-pr385-*.json`
  - ‚úÖ sondeo externo #5 registrado:
    - PR muestra: `#386` (`37/37` checks no verdes)
    - `security/snyk (swiftenprofundidad)` en `ERROR`
    - muestreo de jobs confirma patr√≥n externo (`runner_id=0`, `steps=[]`) en CI/gate/package
    - evidencia en `.audit_tmp/p-adhoc-lines-015-pr-386-*.json` y `.audit_tmp/p-adhoc-lines-015-pr386-*.json`
  - ‚úÖ sondeo externo #6 registrado:
    - PR muestra: `#387` (`37/37` checks no verdes)
    - `security/snyk (swiftenprofundidad)` en `ERROR`
    - muestreo de jobs confirma patr√≥n externo (`runner_id=0`, `steps=[]`) en CI/gate/package
    - evidencia en `.audit_tmp/p-adhoc-lines-015-pr-387-*.json` y `.audit_tmp/p-adhoc-lines-015-pr387-*.json`
  - ‚úÖ sondeo externo #7 registrado:
    - PR muestra: `#388` (`37/37` checks no verdes)
    - `security/snyk (swiftenprofundidad)` en `ERROR`
    - muestreo de jobs confirma patr√≥n externo (`runner_id=0`, `steps=[]`) en CI/gate/package
    - evidencia en `.audit_tmp/p-adhoc-lines-015-pr-388-*.json` y `.audit_tmp/p-adhoc-lines-015-pr388-*.json`
  - ‚úÖ sondeo externo #8 registrado:
    - PR muestra: `#389` (`37/37` checks no verdes)
    - `security/snyk (swiftenprofundidad)` en `ERROR`
    - muestreo de jobs confirma patr√≥n externo (`runner_id=0`, `steps=[]`) en CI/gate/package
    - evidencia en `.audit_tmp/p-adhoc-lines-015-pr-389-*.json` y `.audit_tmp/p-adhoc-lines-015-pr389-*.json`
  - ‚úÖ sondeo externo #9 registrado:
    - PR muestra: `#390` (`37/37` checks no verdes)
    - `security/snyk (swiftenprofundidad)` en `ERROR`
    - muestreo de jobs confirma patr√≥n externo (`runner_id=0`, `steps=[]`) en CI/gate/package
    - evidencia en `.audit_tmp/p-adhoc-lines-015-pr-390-*.json` y `.audit_tmp/p-adhoc-lines-015-pr390-*.json`
  - ‚úÖ tarea ejecutada `T015.R1`: sondeo externo #10 registrado.
  - ‚úÖ tarea ejecutada `T015.R2`: condici√≥n de desbloqueo externo evaluada como `BLOCKED`:
    - `runner_id != 0`
    - `steps` no vac√≠o
    - `security/snyk` fuera de `ERROR`
  - ‚úÖ tarea ejecutada `T015.R5`: pausa de sondeos autom√°ticos aplicada para evitar bucles.
  - ‚úÖ cierre de seguimiento externo por cambio de criterio:
    - CI autoritativo pasa a ser local.
    - checks remotos (GitHub Actions/Snyk) quedan como informativos y no bloqueantes.
- ‚úÖ `P-ADHOC-LINES-016` Cierre final en modo CI local autoritativo:
  - ‚úÖ criterio operativo definido: no depender de billing de GitHub Actions.
  - ‚úÖ criterio operativo definido: estado de Snyk remoto no bloquea cierre del ciclo.
  - ‚úÖ paquete de validaci√≥n local de CI ejecutado y guardado:
    - `.audit_tmp/p-adhoc-lines-016-local-ci/summary.tsv`
    - `9/9` comandos en verde (`exit code 0`).
  - ‚úÖ cierre documental publicado:
    - `docs/validation/ci-sanitization-cycle-014-local-ci-closure.md`
    - √≠ndice actualizado: `docs/validation/README.md`
- ‚úÖ `P-ADHOC-LINES-017` Standby manual de operaci√≥n cerrado:
  - no ejecutar sondeos autom√°ticos ni checks remotos como criterio de salida;
  - repositorio queda en espera de nuevas instrucciones expl√≠citas del usuario.

## Ciclo activo (018)
- ‚úÖ `P-ADHOC-LINES-018A` Cierre documental de ciclos previos consolidado.
- ‚úÖ `P-ADHOC-LINES-018B` Nuevo ciclo oficial creado en `docs/ENTERPRISE_EXECUTION_CYCLE_018.md` con fases, tareas y leyenda.
- ‚úÖ `P-ADHOC-LINES-018C` Preparar primera entrega atomica del ciclo 018 con rama `feature/*`, TDD estricto y actualizacion incremental del tracker.
- ‚úÖ `P-ADHOC-LINES-018D` Ejecutar primer lote tecnico del ciclo 018 y cerrar su Git Flow end-to-end.
  - ‚úÖ `C018.B.T1` RED definida para severidad unificada de `heuristics.ts.empty-catch.ast`:
    - test a√±adido en `integrations/gate/__tests__/stagePolicies-config-and-severity.test.ts`
    - evidencia RED: `npx --yes tsx@4.21.0 --test integrations/gate/__tests__/stagePolicies-config-and-severity.test.ts`
    - fallo esperado confirmado: `WARN !== ERROR` en PRE_COMMIT/PRE_PUSH/CI
  - ‚úÖ `C018.B.T2` GREEN aplicado: `empty-catch` ya escala a `ERROR` en `PRE_COMMIT/PRE_PUSH/CI`.
    - cambio m√≠nimo en pol√≠tica: `integrations/gate/stagePolicies.ts`
    - contratos actualizados:
      - `integrations/gate/__tests__/stagePolicies-config-and-severity.test.ts`
      - `integrations/gate/__tests__/stagePolicies.test.ts`
      - `integrations/gate/__tests__/stagePolicies-promotions-third-platform-heuristics.test.ts`
    - validaci√≥n GREEN:
      - `npx --yes tsx@4.21.0 --test integrations/gate/__tests__/stagePolicies-config-and-severity.test.ts`
      - `npx --yes tsx@4.21.0 --test integrations/gate/__tests__/stagePolicies.test.ts`
      - `npx --yes tsx@4.21.0 --test integrations/gate/__tests__/stagePolicies-promotions-third-platform-heuristics.test.ts`
      - `npm run -s typecheck`
  - ‚úÖ `C018.B.T3` REFACTOR completado: simplificaci√≥n interna de pol√≠tica sin cambios de comportamiento.
    - refactor aplicado en `integrations/gate/stagePolicies.ts`:
      - extracci√≥n de helpers internos para promoci√≥n heur√≠stica por stage/rule id
      - normalizaci√≥n de comparaci√≥n expl√≠cita `severityOverride === null`
    - no-regresi√≥n confirmada:
      - `npx --yes tsx@4.21.0 --test integrations/gate/__tests__/stagePolicies-config-and-severity.test.ts`
      - `npx --yes tsx@4.21.0 --test integrations/gate/__tests__/stagePolicies.test.ts`
      - `npx --yes tsx@4.21.0 --test integrations/gate/__tests__/stagePolicies-promotions-third-platform-heuristics.test.ts`
      - `npm run -s typecheck`
  - ‚úÖ `C018.C.T1` Commit at√≥mico de lote preparado con evidencia local consolidada.
    - bundle versionado: `docs/validation/c018-c1-local-evidence.md`
    - artefactos locales:
      - `.audit_tmp/c018-c1/stagePolicies-config-and-severity.out`
      - `.audit_tmp/c018-c1/stagePolicies.out`
      - `.audit_tmp/c018-c1/stagePolicies-promotions-third-platform-heuristics.out`
      - `.audit_tmp/c018-c1/typecheck.out`
  - ‚úÖ `C018.C.T2` PR `feature -> develop` cerrada con merge del lote C018:
    - PR: `https://github.com/SwiftEnProfundidad/ast-intelligence-hooks/pull/396`
    - rama origen: `feature/p-adhoc-lines-018-cycle-kickoff`
    - rama destino: `develop`
  - ‚úÖ `C018.C.T3` Promote `develop -> main` ejecutado para cierre de fase C:
    - PR de promote: `https://github.com/SwiftEnProfundidad/ast-intelligence-hooks/pull/397`
    - rama origen: `develop`
    - rama destino: `main`
  - ‚úÖ `C018.D.T1` Revalidaci√≥n funcional/visual local completada sobre lote promovido:
    - reporte versionado: `docs/validation/c018-d1-local-revalidation.md`
    - validaci√≥n funcional:
      - `stagePolicies-config-and-severity` (`8/8`)
      - `stagePolicies` (`8/8`)
      - `stagePolicies-promotions-third-platform-heuristics` (`13/13`)
      - `lifecycle` (`16/16`)
      - `typecheck` (`OK`)
    - validaci√≥n visual:
      - `framework-menu-consumer-runtime` (`9/9`) con badges y trazabilidad clicable en men√∫/export.
  - ‚úÖ `C018.D.T2` Documentaci√≥n oficial consolidada:
    - nuevo cierre oficial: `docs/validation/c018-cycle-validation-closure.md`
    - √≠ndice actualizado: `docs/validation/README.md`
    - evidencias versionadas registradas:
      - `docs/validation/c018-c1-local-evidence.md`
      - `docs/validation/c018-d1-local-revalidation.md`
  - ‚úÖ `C018.D.T3` Cierre final completado:
    - PR `#398` (`feature -> develop`) merged:
      - `https://github.com/SwiftEnProfundidad/ast-intelligence-hooks/pull/398`
      - merge commit: `68b4a071c8fcab199dd608e6f72700a923c7af56`
    - PR `#399` (`develop -> main`) merged:
      - `https://github.com/SwiftEnProfundidad/ast-intelligence-hooks/pull/399`
      - merge commit: `0bc37cbe9f458f995eaeab74df3396061e79422a`
    - sincronizaci√≥n final de ramas protegidas:
      - `origin/main...origin/develop = 0/0`

- ‚úÖ `P-ADHOC-LINES-019A` Standby operativo atendido por instrucci√≥n expl√≠cita del usuario (`contin√∫a`).
- ‚úÖ `P-ADHOC-LINES-019B` Apertura formal de ciclo `019`:
  - nuevo MD de ciclo: `docs/ENTERPRISE_EXECUTION_CYCLE_019.md`
  - handoff expl√≠cito desde `C018.POST.T1` a `C019`
- üöß `P-ADHOC-LINES-019C` Definir baseline operativo del ciclo `019` (objetivo t√©cnico, alcance y evidencia m√≠nima) y preparar ejecuci√≥n TDD del primer lote.
