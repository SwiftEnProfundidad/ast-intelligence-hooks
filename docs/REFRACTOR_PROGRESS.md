# Refactor Progress Tracker

Estado operativo consolidado del repositorio y del ciclo activo.

## Leyenda
- ‚úÖ Hecho
- üöß En construccion (maximo 1)
- ‚è≥ Pendiente
- ‚õî Bloqueado

## Estado actual
- ‚úÖ Ciclo anterior cerrado y archivado: se elimino `docs/ENTERPRISE_AUDIT_STABILIZATION_CYCLE.md`.
- ‚úÖ Ciclo `ENTERPRISE_RULE_COVERAGE_CYCLE` cerrado y documentado.
- ‚úÖ Nuevo plan activo creado: `docs/MENU_UIUX_MODERNIZATION_CYCLE.md`.
- ‚úÖ `F1.T1` completada: inventario de reglas activas por stage en cobertura del motor (`activeRuleIds`).
- ‚úÖ `F1.T2` completada: captura de `evaluated_rule_ids` durante la evaluacion del motor.
- ‚úÖ `F1.T3` completada: calculo determinista de `unevaluated_rule_ids = active - evaluated`.
- ‚úÖ `F1.T4` completada: contrato runtime estable de cobertura por stage expuesto sin romper compatibilidad.
- ‚úÖ `F2.T1` completada: schema/tipos extendidos con `snapshot.rules_coverage`.
- ‚úÖ `F2.T2` completada: persistencia determinista de `rules_coverage` con arrays ordenadas y `counts`.
- ‚úÖ `F2.T3` completada: compatibilidad backward para evidencia sin `rules_coverage`.
- ‚úÖ `F3.T1` completada: finding `governance.rules.coverage.incomplete` emitido al detectar cobertura incompleta.
- ‚úÖ `F3.T2` completada: bloqueo forzado por cobertura incompleta en `PRE_COMMIT`, `PRE_PUSH` y `CI`.
- ‚úÖ `F3.T3` completada: mensaje accionable incluye `unevaluated_rule_ids` y `coverage_ratio`.
- ‚úÖ `F4.T1` completada: ciclo RED/GREEN/REFACTOR del motor de cobertura.
- ‚úÖ `F4.T2` completada: ciclo RED/GREEN/REFACTOR de evidencia/persistencia `rules_coverage`.
- ‚úÖ `F4.T3` completada: ciclo RED/GREEN/REFACTOR de enforcement por stage.
- ‚úÖ `F4.T4` completada: matriz e2e happy/sad/edge determinista validada.
- ‚úÖ `F5.T1` completada: documentacion tecnica actualizada (`README`, `USAGE`, `API_REFERENCE`, `evidence-v2.1`).
- ‚úÖ `F5.T2` completada: validacion final ejecutada en verde (`npm run typecheck`, `npm test`).
- ‚úÖ `F5.T3` completada: Git Flow cerrado end-to-end (commits atomicos, PR/merge a `develop`, sync `develop -> main`).
- ‚úÖ Ciclo `ENTERPRISE_RULE_COVERAGE_CYCLE` cerrado.
- ‚úÖ `F1.T1` (UI/UX menu) completada: design tokens CLI, fallback no-color/ascii y ancho dinamico sin doble reduccion.
- ‚úÖ `F1.T2` (UI/UX menu) completada: componentes reutilizables de render (`Panel`, `Badge`, `SectionHeader`, `MetricRow`, `ActionRow`, `HintBlock`) con test unitario dedicado.
- ‚úÖ `F1.T3` (UI/UX menu) completada: layout can√≥nico definido para men√∫s Consumer/Advanced con cobertura de orden y jerarqu√≠a por dominio.
- ‚úÖ `F1.T4` (UI/UX menu) completada: utilidades de legibilidad terminal implementadas y conectadas al renderer base.
- ‚úÖ Fase 2 completada: men√∫ consumer modernizado por flujos, badge de estado (`PASS/WARN/BLOCK`) y mensajes de alcance vac√≠o clarificados sin regresi√≥n de IDs.
- ‚úÖ Fase 3 completada: men√∫ advanced alineado visualmente, agrupado por dominios con ayuda contextual corta y sin romper wiring de acciones.
- ‚úÖ Fase 4 completada: reporte de auditor√≠a modernizado con matriz multi-plataforma estable, m√©tricas de impacto y robustez de ancho.
- ‚úÖ Fase 5 completada: feature flag `PUMUKI_MENU_UI_V2` (default OFF), fallback autom√°tico a men√∫ cl√°sico y compatibilidad de variables de entorno.
- ‚úÖ Fase 6 completada: TDD integral y matriz happy/sad/edge validada (suite `framework-menu-*` + runner/canary).
- ‚úÖ `F7.T1` completada: `README.md` actualizado con rollout de `PUMUKI_MENU_UI_V2` y compatibilidad de flags.
- ‚úÖ `F7.T2` completada: `docs/USAGE.md` y `docs/API_REFERENCE.md` actualizados (modo cl√°sico/v2, fallback y comandos matrix/canary).
- ‚úÖ `F7.T3` completada: tracker y plan de ciclo sincronizados con cierre documental de fase.
- ‚úÖ `F7.T4` completada: hotfix runtime por TDD aplicado (`runStagedGate` importado), CLI validada en cl√°sico/v2 y cierre Git Flow ejecutado.
- ‚úÖ Ciclo `MENU_UIUX_MODERNIZATION_CYCLE` cerrado.
- ‚úÖ Nuevo plan activo creado: `docs/RULES_ENGINE_UNIFICATION_CYCLE.md`.
- ‚úÖ `F0.T1` completada: bootstrap del ciclo con leyenda, fases, tasks y pol√≠tica de Git Flow.
- ‚úÖ `F0.T2` completada: ciclos anteriores relevantes marcados con continuidad expl√≠cita hacia `RULES_ENGINE_UNIFICATION_CYCLE`.
- ‚úÖ `F0.T3` completada: tracker sincronizado con arranque de ciclo y secuencia operativa.
- ‚úÖ `F1.T1` completada: snapshot core de reglas embebido y versionado como fuente primaria runtime.
- ‚úÖ `F1.T2` completada: compilacion de reglas desde skills sincronizadas y hash determinista validada por test.
- ‚úÖ `F1.T3` completada: carga del motor reenrutada a ruleset efectivo (`core + repo lock + custom`) validada por test.
- ‚úÖ `F1.T4` completada: fallback seguro sin locks locales validado con tests dedicados de `skillsEffectiveLock`.
- ‚úÖ `F2.T1` completada: filtrado por plataformas detectadas validado en `skillsRuleSet` sin p√©rdida de reglas aplicables.
- ‚úÖ `F2.T2` completada: clasificaci√≥n `AUTO/DECLARATIVE` validada en tests de reglas no mapeadas y promoci√≥n por stage.
- ‚úÖ `F2.T3` completada: trazabilidad de cobertura por stage validada en suites `runPlatformGateEvaluation` y `runPlatformGateEvidence`.
- ‚úÖ `F2.T4` completada: bloqueo de gobernanza por cobertura incompleta validado en `runPlatformGate.test.ts`.
- ‚úÖ `F3.T1` completada: formato local `/.pumuki/custom-rules.json` y contrato de parseo/carga operativo.
- ‚úÖ `F3.T2` completada: import de reglas desde `AGENTS.md` y rutas `SKILL.md` validado con tests.
- ‚úÖ `F3.T3` completada: precedencia `custom > core` por `ruleId` validada en `skillsRuleSet`.
- ‚úÖ `F3.T4` completada: ruleset efectivo expuesto en diagn√≥stico de men√∫ (`repo + custom`) con test dedicado.
- ‚úÖ `F4.T1` completada: opci√≥n de men√∫ `33` a√±adida para importar reglas custom.
- ‚úÖ `F4.T2` completada: builders/runners de import custom validados con tests de comandos/acciones.
- ‚úÖ `F4.T3` completada: vista advanced muestra ayuda contextual de opci√≥n `33` y diagn√≥stico de bundles efectivos.
- ‚úÖ `F5.T1` completada: suites de compilaci√≥n/lock en verde con extracci√≥n markdown.
- ‚úÖ `F5.T2` completada: `skillsRuleSet` validado con plataformas detectadas y reglas declarativas.
- ‚úÖ `F5.T3` completada: import custom + precedencia `custom > core` validado end-to-end.
- ‚úÖ `F5.T4` completada: validaci√≥n funcional de men√∫/gate/canary en verde.
- ‚úÖ `F6.T1` completada: `README.md` actualizado con arquitectura de rules engine unificado.
- ‚úÖ `F6.T2` completada: `docs/USAGE.md` y `docs/API_REFERENCE.md` actualizados con comandos/contratos de custom rules.
- ‚úÖ `F6.T3` completada: `docs/evidence-v2.1.md` actualizado para reflejar trazabilidad de bundles efectivos y reglas declarativas.
- ‚úÖ `F6.T4` completada: cierre Git Flow end-to-end (`feature -> develop -> main`) con PR #339 y PR #340 mergeadas.
- ‚úÖ Post-cierre: auditor√≠a de consistencia skills local/vendorizado completada (`MATCH` por hash en Android/Backend/Frontend/iOS/Concurrency/SwiftUI).
- ‚úÖ Post-cierre: hardening multi-repo aplicado en detecci√≥n de plataformas (soporte fuera de `apps/*` + fallback ambiguo TS/JS).
- ‚úÖ Post-cierre: TDD ampliado (`detect*`/`detectPlatforms`/`coreSkillsLock`) y suites de regresi√≥n en verde.
- ‚úÖ Post-cierre: cierre Git Flow del hardening multi-repo completado (`feature -> develop` PR #342, `develop -> main` PR #343).
- ‚úÖ Post-cierre: auditoria full repo ejecutada con opcion `1` (full audit) y cobertura de reglas `414/414` sin unevaluated.
- ‚úÖ Post-cierre: informe formal de violaciones generado en `docs/FULL_REPO_RULES_AUDIT_REPORT.md` (resultado actual: 3 `WARN`, 0 `CRITICAL`, 0 `ERROR`).
- ‚úÖ Post-cierre: unificacion de enforcement entre `PRE_COMMIT`, `PRE_PUSH` y `CI` aplicada (mismas reglas activas, misma promocion de severidad y mismos umbrales por defecto).
- ‚è≥ Post-cierre: exponer `PRE_WRITE` de forma visible en la matriz de diagnostico del menu sin romper contratos existentes.

## Hitos recientes
- ‚úÖ Sync Git Flow cerrado en ciclo anterior (`develop -> main`) con ramas remotas alineadas.
- ‚úÖ Limpieza de documentacion de seguimiento cerrada (quedan solo tracker + plan activo).
- ‚úÖ Diagnostico de recuperacion `/resume` completado: hilo identificado (`019c2faa-8911-7b52-b58f-c0c66e2e8620`) y causa localizada (indice local de sesiones desactualizado).
- ‚úÖ Recuperacion operativa definida para sesiones no listadas: uso de `codex resume --all <thread_id|thread_name>` en cualquier repo (incluido RuralGo).
- ‚úÖ Indice global de sesiones reconstruido desde `~/.codex/sessions/**` (228 entradas) con backup previo (`session_index.jsonl.pre_recovery.bak`).
- ‚úÖ Sesiones huerfanas recuperadas desde `~/.codex/history.jsonl` (incluye `RURALGO REFACTOR`, `AST-PUMUKI REFACTOR` y `CURSOS STACK ARCHITECTURE`).
- ‚úÖ Reconstruccion v2 aplicada sobre sesiones `recovered_from_history`: reescritura limpia de transcript con turnos validos (`turn_context`, `task_started`, `task_complete`) para evitar chats vacios al abrir.
- ‚úÖ Trazabilidad de recuperacion endurecida: backups `*.jsonl.bak.recovery2` creados para cada sesion reconstruida.
- ‚úÖ Indice global normalizado tras recuperacion: `~/.codex/session_index.jsonl` deduplicado (230 -> 228) y alias canonicos preservados.
- ‚úÖ Preflight obligatorio de iteracion ejecutado (workspace validado, `git status` revisado y skills enumeradas).
- ‚úÖ Contexto operativo corregido: foco activo reubicado a validacion de UI nueva tras cierre de `MENU_UIUX_MODERNIZATION_CYCLE`.
- ‚úÖ Comprobacion de UI nueva (`PUMUKI_MENU_UI_V2`) ejecutada en Consumer/Advanced y reporte de auditoria (anchos 80/120/160, sin crash).
- ‚úÖ Hotfix UX de menu Advanced v2 aplicado: badge de estado alineado a `outcome` y ayuda corta sin truncar `.ai_evidence.json`.
- ‚úÖ Commit atomico del hotfix UI v2 preparado (codigo + tests + tracker) para persistir correccion.
- ‚úÖ Recuperacion forense aplicada sobre hilos criticos (`RURALGO`, `AST-PUMUKI`, `CURSOS STACK ARCHITECTURE`): reinyeccion de respuestas reales disponibles desde `*.jsonl.bak.recovery2` y snapshots `*.bak.recovery3`.
- ‚úÖ Busqueda externa acotada en `/Volumes/Backup Plus` y metadatos Spotlight sin hallazgos adicionales de artefactos Codex fuera de `~/.codex`.
- ‚úÖ README enterprise reescrito en ingles con cobertura funcional completa de Pumuki (onboarding + operacion).
- ‚úÖ Capturas de ejecucion del menu (opcion 1) generadas para README en escenarios BLOCK/PASS (`assets/readme/menu-option1`, 6 PNGs).
- ‚úÖ Revision editorial final y publicacion de cambios de documentacion enterprise completada.
- ‚úÖ Ciclo operativo siguiente definido y documentado (`RULES_ENGINE_UNIFICATION_CYCLE`).
- ‚úÖ Estabilizacion del canary matrix completada para opcion `1` (`repo`) con staging/cleanup temporal y suite `framework-menu-*` en verde.
- ‚úÖ Test suite nueva a√±adida: `integrations/config/__tests__/skillsEffectiveLock.test.ts` para fallback/merge efectivo.
- ‚úÖ Cobertura extendida de `skillsRuleSet` a√±adida para plataformas detectadas y reglas `generic/text`.
- ‚úÖ Suite de gate/evidence en verde: cobertura por stage y guard de gobernanza sin regresiones.
- ‚úÖ Nueva suite a√±adida: `integrations/config/__tests__/skillsCustomRules.test.ts` (formato, import y precedencia).
- ‚úÖ Diagn√≥stico de bundles activos validado con lock efectivo (`scripts/__tests__/framework-menu-format-and-policy.test.ts`).
- ‚úÖ Cobertura de men√∫ extendida: opci√≥n `33` en acciones/builders/vista advanced verificada en tests.
- ‚úÖ Validaci√≥n consolidada: 21 tests config + 12 tests git + 113 tests framework menu en verde.
- ‚úÖ Documentaci√≥n enterprise alineada al motor unificado (`README`, `USAGE`, `API_REFERENCE`, `evidence-v2.1`).
- ‚úÖ Cierre de release ejecutado: `feature/rules-engine-unification -> develop` (#339) y `develop -> main` (#340).
- ‚úÖ Verificaci√≥n runtime: core lock embebido con 6 bundles y 759 reglas totales cargadas.
- ‚úÖ Cierre adicional ejecutado: hardening multi-repo mergeado end-to-end (#342/#343) con ramas principales sincronizadas.
- ‚úÖ Auditoria full repo con todas las reglas ejecutada (menu opcion 1) con evidencia actualizada y cobertura completa.
- ‚úÖ Informe detallado de violaciones publicado en `docs/FULL_REPO_RULES_AUDIT_REPORT.md`.
- ‚úÖ Auditoria transparente sin cambios de codigo ejecutada en matriz `scope=repo` para `PRE_COMMIT`, `PRE_PUSH` y `CI` con heuristicas AST activas.
- ‚úÖ Verificacion de carga de bundles por stage completada: `android/backend/frontend/ios/concurrency/swiftui` presentes en los 3 stages.
- ‚úÖ Confirmacion de cobertura por stage completada: `unevaluated=0` en `PRE_COMMIT`, `PRE_PUSH` y `CI`.
- ‚úÖ Unificacion de stages aplicada en motor: `PRE_COMMIT` ahora evalua el mismo set de reglas que `PRE_PUSH/CI` (`active=evaluated`, sin delta por stage).
- ‚úÖ Unificacion de severidad aplicada: promocion de heuristicas y `promoteToErrorRuleIds` activa tambien en `PRE_COMMIT`.
- ‚úÖ Validacion tecnica completada tras unificacion: `npm run test:stage-gates` (770 tests, 0 fail) + `npm run typecheck` en verde.
- ‚úÖ Verificacion operativa de `pre-write`: binario ejecuta flujo real (`sdd validate --stage=PRE_WRITE`) y bloquea correctamente cuando faltan precondiciones (OpenSpec/evidence/gitflow).
- ‚úÖ Inventario full repo generado: listado de ficheros propios de Pumuki con mas de 300 lineas (excluyendo `node_modules` y binarios).
- ‚úÖ Diagnostico de caja negra del rules engine completado: en estado actual no existe `.pumuki/custom-rules.json` ni `skills.policy.json`; la carga efectiva cae a `skills.lock.json` (25 reglas `AUTO`) y no incluye reglas SOLID/SRP como detectores AST dedicados.
- ‚úÖ Nuevo plan activo creado: `docs/ALL_SKILLS_AST_ENFORCEMENT_CYCLE.md`.
- ‚úÖ `F0.T3` completada en `ALL_SKILLS_AST_ENFORCEMENT`: continuidad operativa previa cerrada y ciclo declarado activo unico.
- ‚úÖ `F1.T1` completada en `ALL_SKILLS_AST_ENFORCEMENT`: RED de integridad para reglas `AUTO` sin detector AST.
- ‚úÖ `F1.T2` completada en `ALL_SKILLS_AST_ENFORCEMENT`: eliminado fallback declarativo silencioso y contrato `unsupportedAutoRuleIds` operativo.
- ‚úÖ `F1.T3` completada en `ALL_SKILLS_AST_ENFORCEMENT`: gate bloquea por reglas `AUTO` sin detector con finding de gobernanza explicito.
- ‚úÖ `F1.T4` completada en `ALL_SKILLS_AST_ENFORCEMENT`: mensajes accionables de mapeo incompleto integrados y validados en tests.
- ‚úÖ `F2.T1` completada en `ALL_SKILLS_AST_ENFORCEMENT`: RED de mapeo SOLID/SRP/God Class incorporada en suites config.
- ‚úÖ `F2.T2` completada en `ALL_SKILLS_AST_ENFORCEMENT`: mapeo skills -> heuristics ampliado para SOLID/Clean Architecture/God Class en backend/frontend.
- ‚úÖ `F2.T3` completada en `ALL_SKILLS_AST_ENFORCEMENT`: detector AST de God Class (>500 lineas) integrado en facts + preset heuristics.
- ‚úÖ `F2.T4` completada en `ALL_SKILLS_AST_ENFORCEMENT`: severidad y trazabilidad unificadas en nuevas detecciones con tests de gate/config en verde.
- ‚úÖ `F3.T1` completada en `ALL_SKILLS_AST_ENFORCEMENT`: RED multi-plataforma por fichero validada con casos backend + ios en layout no estandar.
- ‚úÖ `F3.T2` completada en `ALL_SKILLS_AST_ENFORCEMENT`: scope dinamico por rutas observadas integrado en `skillsRuleSet` cuando no existe arbol `apps/*`.
- ‚úÖ `F3.T3` completada en `ALL_SKILLS_AST_ENFORCEMENT`: semantica alineada entre `PRE_COMMIT`, `PRE_PUSH` y `CI` validada por test de paridad.
- ‚úÖ `F3.T4` completada en `ALL_SKILLS_AST_ENFORCEMENT`: utilidades de evaluacion refactorizadas para reutilizar coleccion de rutas observadas.
- ‚úÖ `F4.T1` completada en `ALL_SKILLS_AST_ENFORCEMENT`: TDD integral de `skillsRuleSet`, `runPlatformGateEvaluation` y `runPlatformGate` en verde.
- ‚úÖ `F4.T2` completada en `ALL_SKILLS_AST_ENFORCEMENT`: validacion funcional de menu opcion `1` ejecutada con evidencia runtime consistente (`active=409`, `evaluated=409`, `unevaluated=0`, `coverage_ratio=1`).
- ‚úÖ `F4.T3` completada en `ALL_SKILLS_AST_ENFORCEMENT`: auditoria full-repo publicada en `docs/FULL_REPO_RULES_AUDIT_REPORT.md` con severidad actualizada (`ERROR/HIGH=3`, gate `BLOCKED`).
- ‚úÖ `F4.T4` completada en `ALL_SKILLS_AST_ENFORCEMENT`: cierre Git Flow ejecutado end-to-end (PR `#346` `feature -> develop`, PR `#347` `develop -> main`).
- ‚è≥ Post-cierre anterior pendiente: exponer `PRE_WRITE` de forma visible en la matriz de diagnostico del menu sin romper contratos existentes.
- ‚úÖ `F0.T2` completada en `ALL_SKILLS_AST_ENFORCEMENT`: tracker sincronizado y tarea activa unica garantizada.
- ‚úÖ Ciclo `ALL_SKILLS_AST_ENFORCEMENT` cerrado con trazabilidad completa de reglas, evidencia y merge a `main`.
- ‚úÖ Operacion ad-hoc completada: auditoria full-repo solicitada por usuario ejecutada (menu opcion `1`, scope `repo`) con informe actualizado en `docs/FULL_REPO_RULES_AUDIT_REPORT.md`.
- ‚úÖ Nuevo plan activo creado: `docs/ENTERPRISE_AST_DETECTION_SUPERIORITY_CYCLE.md`.
- ‚úÖ `F0.T1` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: plan operativo enterprise creado con fases/tareas/leyenda.
- ‚úÖ `F0.T2` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: tracker sincronizado y tarea activa unica garantizada.
- ‚úÖ `F0.T3` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: rama del ciclo creada (`feature/enterprise-ast-detection-superiority`).
- ‚úÖ `F1.T1` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: registro central de detectores para skills `AUTO` (`skillsDetectorRegistry`).
- ‚úÖ `F1.T2` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: eliminacion de fallback declarativo silencioso en import/custom rules (`AUTO` por defecto).
- ‚úÖ `F1.T3` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: bloqueo de gate por skill `AUTO` sin detector mapeado.
- ‚úÖ `F1.T4` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: trazabilidad de cobertura ampliada con `unsupported_auto_rule_ids`.
- ‚úÖ `F2.T1` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: bypass SDD eliminado en menu de auditoria.
- ‚úÖ `F2.T2` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: diagnostico de cobertura expone estado SDD por stage.
- ‚úÖ `F2.T3` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: `PRE_WRITE` visible y trazado en matriz operativa del menu.
- ‚úÖ `F3.T1` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: import custom endurecido para exigir evaluacion ejecutable.
- ‚úÖ `F3.T2` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: merge `core + custom` trazado en diagnosticos y contratos.
- ‚úÖ `F3.T3` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: pruebas de regresion de carga externa a√±adidas.
- ‚úÖ `F4.T1` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: harness `legacy vs enterprise` implementado.
- ‚úÖ `F4.T2` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: criterio de dominancia `enterprise >= legacy` validado.
- ‚úÖ `F4.T3` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: reporte determinista generado en `docs/LEGACY_PARITY_REPORT.md`.
- ‚úÖ `F5.T1` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: TDD RED/GREEN/REFACTOR completado en motor/config/gate.
- ‚úÖ `F5.T2` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: validacion funcional/menu/evidencia en verde.
- ‚úÖ `F5.T3` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: documentacion enterprise sincronizada (`README`, `USAGE`, `API_REFERENCE`, `evidence-v2.1`).
- ‚úÖ `F5.T4` completada en `ENTERPRISE_AST_DETECTION_SUPERIORITY`: cierre Git Flow end-to-end (`feature -> develop` PR `#350`, `develop -> main` PR `#351`).
- ‚úÖ Ciclo `ENTERPRISE_AST_DETECTION_SUPERIORITY` cerrado con verificacion tecnica, funcional y visual en verde.
- ‚úÖ Nuevo plan activo creado: `docs/SKILLS_ENGINE_FORENSIC_RECOVERY_CYCLE.md`.
- ‚úÖ `F0.T1` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: plan forense creado con fases/tareas/leyenda.
- ‚úÖ `F0.T2` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: tracker sincronizado y tarea activa unica garantizada.
- ‚úÖ `F0.T3` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: rama del ciclo creada (`feature/skills-engine-forensic-recovery`).
- ‚úÖ `F1.T1` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: RCA forense documentado en `docs/SKILLS_ENGINE_FORENSIC_RCA_REPORT.md` (744 reglas, 705 `guideline.*`, 705 `unsupportedAuto`).
- ‚úÖ `F1.T2` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: contrato dual `audit-engine` vs `audit-gate` operativo y trazado en evidencia (`snapshot.audit_mode`).
- ‚úÖ `F1.T3` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: diagnostico por stage alineado con el motor real (heuristicas forzadas AST/TypeScript) y validado por tests.
- ‚úÖ `F2.T1` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: reglas no can√≥nicas de markdown degradadas a `DECLARATIVE`, eliminando `AUTO` no mapeadas.
- ‚úÖ `F2.T2` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: cat√°logo core SOLID/Clean/God Class consolidado para backend/frontend en lock efectivo.
- ‚úÖ `F2.T3` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: validaci√≥n runtime `scope=repo` con `unsupported_auto=0` y `unevaluated=0` en `PRE_WRITE/PRE_COMMIT/PRE_PUSH/CI`.
- ‚úÖ `F3.T1` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: persistencia de `snapshot.audit_mode` (`engine|gate`) verificada en runtime y tests.
- ‚úÖ `F3.T2` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: `severity_metrics.by_enterprise_severity` a√±adido sin romper `by_severity` legacy.
- ‚úÖ `F3.T3` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: men√∫/diagn√≥sticos homologados con severidad enterprise can√≥nica y fallback legacy.
- ‚úÖ `F4.T1` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: suite `npm run test:stage-gates` en verde (`781 pass`, `0 fail`).
- ‚úÖ `F4.T2` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: matriz runtime stage/mode generada en `docs/SKILLS_ENGINE_RUNTIME_MATRIX.md`.
- ‚úÖ `F4.T3` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: verificaci√≥n visual runtime de men√∫ consumer/advanced v2 con severidad enterprise+legacy.
- ‚úÖ `F5.T1` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: documentaci√≥n sincronizada (`README`, `docs/USAGE.md`, `docs/API_REFERENCE.md`, `docs/evidence-v2.1.md`).
- ‚úÖ `F5.T2` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: informe reproducible publicado en `docs/SKILLS_ENGINE_FORENSIC_COMPLIANCE_REPORT.md`.
- ‚úÖ `F5.T3` completada en `SKILLS_ENGINE_FORENSIC_RECOVERY`: cierre Git Flow end-to-end (`feature -> develop` PR `#354`, `develop -> main` PR `#355`).
- ‚úÖ Ciclo `SKILLS_ENGINE_FORENSIC_RECOVERY` cerrado con validaci√≥n t√©cnica, funcional y visual en verde.
- ‚úÖ Operaci√≥n ad-hoc completada: auditor√≠a full-repo en `PRE_COMMIT`/`auditMode=engine` con cobertura completa (`245/245`, `unsupported_auto=0`) e informe actualizado en `docs/FULL_REPO_RULES_AUDIT_REPORT.md`.
- ‚úÖ Operaci√≥n ad-hoc completada: re-auditor√≠a full-repo tras correcci√≥n de scope din√°mico (`apps/*` vs rutas observadas) con resultado real `8` violaciones de c√≥digo (`CRITICAL:4`, `ERROR:4`) + `1` bloqueo SDD.
- ‚úÖ Operaci√≥n ad-hoc completada: verificaci√≥n TDD del fix de scope din√°mico en verde (`17/17` tests) sobre `skillsRuleSet` y `runPlatformGateEvaluation`.
- ‚úÖ Operaci√≥n ad-hoc completada: restaurada notificaci√≥n macOS de cierre de auditor√≠a `AST Audit Complete` (contrato legacy de mensaje y severidad) en men√∫ consumer (`1/2/3/4`) con cobertura TDD.
- ‚úÖ Operaci√≥n ad-hoc completada: validaci√≥n funcional del emisor real en macOS (`emitSystemNotification` -> `delivered=true`) para evento `audit.summary`.
- ‚úÖ Operaci√≥n ad-hoc completada: preflight de permisos de captura validado; Screen Recording habilitado por usuario para evidencias visuales.
- ‚úÖ Operaci√≥n ad-hoc completada: forense de baja detecci√≥n ejecutado con comparativa refactor vs legacy (`12` vs `71` violaciones) y familias de reglas faltantes identificadas.
- ‚úÖ Operaci√≥n ad-hoc completada: limpieza de planes cerrados en `docs/*CYCLE.md` para reducir ruido documental.
- ‚úÖ Nuevo plan activo creado: `docs/ENTERPRISE_DETECTION_RECOVERY_CYCLE.md`.
- ‚úÖ `F0.T2` completada en `ENTERPRISE_DETECTION_RECOVERY`: tracker sincronizado con ciclo activo y tarea unica en construccion.
- ‚úÖ `F0.T3` completada en `ENTERPRISE_DETECTION_RECOVERY`: baseline `legacy vs enterprise` publicado en `docs/LEGACY_VS_ENTERPRISE_PARITY_REPORT.md`.
- ‚úÖ `F1.T1` completada en `ENTERPRISE_DETECTION_RECOVERY`: inventario `legacy common/workflow` cerrado con mapa de cobertura en runtime enterprise.
- ‚úÖ `F1.T2` completada en `ENTERPRISE_DETECTION_RECOVERY`: nuevo pack `core/rules/presets/heuristics/commonLegacy.ts` integrado en el ruleset AST enterprise.
- ‚úÖ `F1.T3` completada en `ENTERPRISE_DETECTION_RECOVERY`: pipeline `extractHeuristicFacts` ampliado con detectores `common.*` y `workflow.*`.
- ‚úÖ `F1.T4` completada en `ENTERPRISE_DETECTION_RECOVERY`: trazabilidad consolidada (`active/evaluated/matched`) y regresi√≥n de canary opci√≥n `1` corregida.
- ‚úÖ Validaci√≥n t√©cnica F1 completada: `framework-menu-matrix-canary` y `npm run test:stage-gates` en verde (`787 pass`, `0 fail`).
- ‚úÖ `F2.T1` completada en `ENTERPRISE_DETECTION_RECOVERY`: `PRE_WRITE` endurecido con validaci√≥n de coherencia (`repo_root`, `branch`, `gate_status`, `rules_coverage`, timestamp) y bloqueo estricto por incoherencias.
- ‚úÖ Validaci√≥n t√©cnica F2.T1 completada: `npm run test:stage-gates` (`789 pass`, `0 fail`) + `npm run typecheck` en verde.
- ‚úÖ `F2.T2` completada en `ENTERPRISE_DETECTION_RECOVERY`: `PRE_COMMIT/PRE_PUSH/CI` alineados sin bypass SDD por defecto y manteniendo evaluaci√≥n de reglas activas.
- ‚úÖ Validaci√≥n t√©cnica F2.T2 completada: `runPlatformGate.test.ts` en verde (`10/10`) + `npm run test:stage-gates` (`790 pass`, `0 fail`) + `npm run typecheck`.
- ‚úÖ `F2.T3` completada en `ENTERPRISE_DETECTION_RECOVERY`: preflight consumer reforzado con causas de bloqueo (`code + message`) y acci√≥n recomendada por violaci√≥n.
- ‚úÖ Validaci√≥n t√©cnica F2.T3 completada: `framework-menu-consumer-preflight.test.ts` en verde (`3/3`) + `npm run test:stage-gates` (`791 pass`, `0 fail`) + `npm run typecheck`.
- ‚úÖ `F2.T4` completada en `ENTERPRISE_DETECTION_RECOVERY`: validaci√≥n por stage en modo gate (`PRE_COMMIT/PRE_PUSH/CI`) con `unevaluated=0`, `coverage_ratio=1`, `unsupported_auto=0`.
- ‚úÖ Validaci√≥n t√©cnica F2.T4 completada: `runPlatformGate.test.ts` en verde (`11/11`) + `npm run test:stage-gates` (`792 pass`, `0 fail`) + `npm run typecheck`.
- ‚úÖ `F3.T1` completada en `ENTERPRISE_DETECTION_RECOVERY`: harness de paridad reforzado con validaci√≥n estricta de scope (`stage`, `files_scanned`, `repo_root`) y bypass controlado (`strictScope=false` / `--allow-scope-mismatch`).
- ‚úÖ Validaci√≥n t√©cnica F3.T1 completada: `legacy-parity-report-lib.test.ts` en verde (`4/4`) + `npm run test:stage-gates` (`794 pass`, `0 fail`) + `npm run typecheck`.
- ‚úÖ `F3.T2` completada en `ENTERPRISE_DETECTION_RECOVERY`: hard-block de paridad basado en severidad canonizada (`CRITICAL/HIGH/MEDIUM/LOW`) y `dominance` vinculada a esa matriz.
- ‚úÖ Validaci√≥n t√©cnica F3.T2 completada: `legacy-parity-report-lib.test.ts` en verde (`4/4`) + `npm run test:stage-gates` (`794 pass`, `0 fail`) + `npm run typecheck`.
- ‚úÖ `F3.T3` completada en `ENTERPRISE_DETECTION_RECOVERY`: reporte de paridad publicado en `docs/LEGACY_VS_ENTERPRISE_PARITY_REPORT.md` con baseline normalizado desde logs legacy/refactor y matriz de severidad en hard-block.
- ‚úÖ Validaci√≥n t√©cnica F3.T3 completada: generaci√≥n reproducible de reporte v√≠a `scripts/build-legacy-parity-report.ts` (resultado esperado `dominance=FAIL`) + `npm run test:stage-gates` (`794 pass`, `0 fail`) + `npm run typecheck`.
- ‚úÖ `F3.T4` completada en `ENTERPRISE_DETECTION_RECOVERY`: verificaci√≥n runtime real de opci√≥n `1` (`assets/readme/forensics-violations/20260223-031139/refactor-option1-f3t4.log`) y confirmaci√≥n de notificaci√≥n macOS entregada (`{\"delivered\":true,\"reason\":\"delivered\"}`).
- ‚úÖ `F4.T1` completada en `ENTERPRISE_DETECTION_RECOVERY`: ciclo TDD ampliado en gate con caso multi-incoherencia PRE_WRITE (`EVIDENCE_*`) y cobertura de bloqueo consolidada.
- ‚úÖ `F4.T2` completada en `ENTERPRISE_DETECTION_RECOVERY`: pruebas t√©cnicas finales en verde (`npm run test:stage-gates` = `795 pass`, `0 fail`; `npm run typecheck` OK).
- ‚úÖ `F4.T3` completada en `ENTERPRISE_DETECTION_RECOVERY`: auditor√≠a full repo final ejecutada (men√∫ opci√≥n `1`) y reporte consolidado actualizado en `docs/FULL_REPO_RULES_AUDIT_REPORT.md` (`70` violaciones, cobertura `417/417`, `unsupported_auto=0`).
- ‚úÖ `F4.T4` completada en `ENTERPRISE_DETECTION_RECOVERY`: cierre Git Flow local end-to-end ejecutado (`feature/enterprise-detection-recovery -> develop -> main`) y documentaci√≥n del ciclo sincronizada.
- ‚úÖ Ciclo `ENTERPRISE_DETECTION_RECOVERY` cerrado.

## Siguiente paso operativo
- ‚è≥ Publicar ramas (`develop` y `main`) al remoto y abrir PRs si se requiere trazabilidad en GitHub.

Estado final del tracker: sin tareas en `üöß` para el ciclo activo (cerrado).
