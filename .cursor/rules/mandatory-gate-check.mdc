# üö® MANDATORY GATE CHECK - AUTOMATED ENFORCEMENT (ALL IDEs/CLIs)

---
description: Forces AI to call ai_gate_check at the START of EVERY response
globs: ["**/*"]
alwaysApply: true
platforms: [cursor, windsurf, claude-code, codex-cli, opencode, aider, continue, cody]
---

## üõë ABSOLUTE REQUIREMENT - NON-NEGOTIABLE

**This rule applies to ALL AI coding assistants.**

**BEFORE doing ANYTHING else in your response, you MUST call:**

| IDE/CLI | Command |
|---------|---------|
| Cursor | `mcp_ast-intelligence-automation_ai_gate_check` |
| Windsurf | `mcp2_ai_gate_check` |
| Claude Code | `mcp__ast-intelligence-automation__ai_gate_check` |
| Codex CLI | `npx ast-hooks audit` (then check `.AI_EVIDENCE.json`) |
| Others | Check MCP tool list for `ai_gate_check` |

## Rules

1. **FIRST action** of EVERY response = `ai_gate_check`
2. If result is `BLOCKED` ‚Üí Fix violations BEFORE proceeding with ANY task
3. If evidence is stale ‚Üí Call `auto_execute_ai_start` first
4. Only AFTER gate passes (status = ALLOWED) ‚Üí Work on user task
5. **ALL severities block by default** (CRITICAL, HIGH, MEDIUM, LOW) - v6.2.9+

## Blocking Severities (v6.2.9+)

| Mode | Blocked Severities | Env Var |
|------|-------------------|---------|
| DEFAULT | CRITICAL, HIGH, MEDIUM, LOW | (none) |
| LEGACY | CRITICAL, HIGH only | `AST_BLOCKING_MODE=LEGACY` |

## Why This Exists

- AI tends to forget evidence checks
- AI skips gate check entirely
- Hook-system warnings get ignored
- This rule makes it MANDATORY, not optional

## Enforcement

If you respond WITHOUT calling `ai_gate_check` first:
- You are violating this rule
- Pre-commit hook will block anyway
- User time is wasted
- You must restart with gate check

**NO EXCEPTIONS. NO EXCUSES. GATE CHECK FIRST.**

üêàüíö Pumuki Team¬Æ - AST Intelligence Framework
